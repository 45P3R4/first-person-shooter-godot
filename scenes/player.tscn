[gd_scene load_steps=27 format=3 uid="uid://bd5v6py7keiiq"]

[ext_resource type="Script" path="res://scripts/Camera.cs" id="1_02tyf"]
[ext_resource type="Script" path="res://test.cs" id="1_3j5vo"]
[ext_resource type="PackedScene" uid="uid://cv6qwvtibrtvg" path="res://models/blender/LowPoly_FPS_MP5.blend" id="1_4naph"]
[ext_resource type="Script" path="res://scripts/Animation.cs" id="3_7ob0h"]
[ext_resource type="Script" path="res://scripts/PlayerStateMachine.cs" id="3_djyq5"]
[ext_resource type="Script" path="res://scripts/Idle.cs" id="4_15lhl"]
[ext_resource type="Script" path="res://scripts/Fire.cs" id="4_hdfd1"]
[ext_resource type="Script" path="res://scripts/Walk.cs" id="5_j3ct8"]
[ext_resource type="Script" path="res://scripts/Run.cs" id="6_jp3up"]
[ext_resource type="Script" path="res://scripts/Jump.cs" id="7_cm1d8"]
[ext_resource type="Script" path="res://scripts/InAir.cs" id="8_itdee"]
[ext_resource type="Texture2D" uid="uid://cf70qvs6t8obi" path="res://textures/cross.png" id="12_euvy4"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2fr6h"]
animation = &"Arms_Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lxf4w"]
animation = &"Arms_Sprint"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_853y3"]
animation = &"Arms_Walk"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_bgrce"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_os0i3"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_l68um"]
xfade_time = 0.2
advance_mode = 2
advance_condition = &"Walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_0dhd7"]
xfade_time = 0.2
advance_mode = 2
advance_condition = &"Run"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_gvmhq"]
xfade_time = 0.2
advance_mode = 2
advance_condition = &"Idle"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_n6346"]
xfade_time = 0.2
advance_mode = 2
advance_condition = &"Walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_p2ie7"]
xfade_time = 0.2
advance_mode = 2
advance_condition = &"Idle"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_sxdd7"]
states/Arms_Idle/node = SubResource("AnimationNodeAnimation_2fr6h")
states/Arms_Idle/position = Vector2(396, 5)
states/Arms_Sprint/node = SubResource("AnimationNodeAnimation_lxf4w")
states/Arms_Sprint/position = Vector2(491, 107)
states/Arms_Walk/node = SubResource("AnimationNodeAnimation_853y3")
states/Arms_Walk/position = Vector2(602, 16)
states/BlendSpace1D/node = SubResource("AnimationNodeBlendSpace1D_bgrce")
states/BlendSpace1D/position = Vector2(528, -82)
states/Start/position = Vector2(230, 55)
transitions = ["Start", "Arms_Idle", SubResource("AnimationNodeStateMachineTransition_os0i3"), "Arms_Idle", "Arms_Walk", SubResource("AnimationNodeStateMachineTransition_l68um"), "Arms_Walk", "Arms_Sprint", SubResource("AnimationNodeStateMachineTransition_0dhd7"), "Arms_Walk", "Arms_Idle", SubResource("AnimationNodeStateMachineTransition_gvmhq"), "Arms_Sprint", "Arms_Walk", SubResource("AnimationNodeStateMachineTransition_n6346"), "Arms_Sprint", "Arms_Idle", SubResource("AnimationNodeStateMachineTransition_p2ie7")]
graph_offset = Vector2(-127, -91)

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_1d8wg"]
graph_offset = Vector2(-145.785, 4.90826)
nodes/StateMachine/node = SubResource("AnimationNodeStateMachine_sxdd7")
nodes/StateMachine/position = Vector2(400, 40)
nodes/output/position = Vector2(1020, 40)
node_connections = [&"output", 0, &"StateMachine"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_4as7o"]
specular_mode = 2
albedo_color = Color(0.72538, 0.614863, 0.575928, 1)
subsurf_scatter_enabled = true
subsurf_scatter_skin_mode = true

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_j8ojb"]

[node name="Player" type="Node3D"]

[node name="CharacterBody3D" type="CharacterBody3D" parent="." node_paths=PackedStringArray("raycast")]
floor_constant_speed = true
script = ExtResource("1_3j5vo")
raycast = NodePath("Cam/RayCast3D")

[node name="AnimationTree" type="AnimationTree" parent="CharacterBody3D"]
root_node = NodePath("../Cam/Camera3D/LowPoly_FPS_MP5")
tree_root = SubResource("AnimationNodeBlendTree_1d8wg")
anim_player = NodePath("../Cam/Camera3D/LowPoly_FPS_MP5/AnimationPlayer")
parameters/StateMachine/conditions/Idle = false
parameters/StateMachine/conditions/Run = false
parameters/StateMachine/conditions/Walk = false
parameters/StateMachine/BlendSpace1D/blend_position = 0.04099

[node name="Cam" type="Node3D" parent="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.577075, 0)

[node name="Camera3D" type="Camera3D" parent="CharacterBody3D/Cam"]
transform = Transform3D(1, 0, 1.74846e-07, 0, 1, 0, -1.74846e-07, 0, 1, 0, 0, 0)

[node name="LowPoly_FPS_MP5" parent="CharacterBody3D/Cam/Camera3D" instance=ExtResource("1_4naph")]
transform = Transform3D(-1, 0, 2.38498e-08, 0, 1, 0, -2.38498e-08, 0, -1, 0, -0.577075, 0)

[node name="Skeleton3D" parent="CharacterBody3D/Cam/Camera3D/LowPoly_FPS_MP5/Arms" index="0"]
bones/1/rotation = Quaternion(-0.40542, -0.687846, -0.265871, 0.5402)
bones/1/scale = Vector3(1, 1, 1)
bones/2/rotation = Quaternion(-0.384514, 0.0359647, -0.000548963, 0.922418)
bones/3/rotation = Quaternion(-0.383677, -0.0262775, 0.0253642, 0.922745)
bones/3/scale = Vector3(1, 1, 1)
bones/5/rotation = Quaternion(-0.384507, 0.0288887, 0.00240005, 0.922667)
bones/5/scale = Vector3(1, 1, 1)
bones/6/rotation = Quaternion(-0.33269, 0.0115467, 0.0450138, 0.941891)
bones/7/rotation = Quaternion(-0.333959, 0.0416516, 0.0343553, 0.94104)
bones/7/scale = Vector3(1, 1, 1)
bones/8/rotation = Quaternion(-0.335257, 0.088548, 0.0176513, 0.93779)
bones/8/scale = Vector3(1, 1, 1)
bones/9/rotation = Quaternion(0.0611543, -0.551534, -0.485846, 0.675295)
bones/9/scale = Vector3(1, 1, 1)
bones/10/rotation = Quaternion(-0.103111, -0.402555, -0.607018, 0.677383)
bones/10/scale = Vector3(1, 1, 1)
bones/11/rotation = Quaternion(-0.307869, -0.11208, -0.0558412, 0.943152)
bones/11/scale = Vector3(1, 1, 1)
bones/12/rotation = Quaternion(-0.646953, 0.285398, -0.285398, 0.646953)
bones/14/rotation = Quaternion(-0.40542, 0.687846, 0.265871, 0.5402)
bones/14/scale = Vector3(1, 1, 1)
bones/15/rotation = Quaternion(-0.384514, -0.0359647, 0.000548963, 0.922418)
bones/16/rotation = Quaternion(-0.383677, 0.0262775, -0.0253642, 0.922745)
bones/16/scale = Vector3(1, 1, 1)
bones/18/rotation = Quaternion(-0.384507, -0.0288887, -0.00240005, 0.922667)
bones/18/scale = Vector3(1, 1, 1)
bones/19/rotation = Quaternion(-0.33269, -0.0115467, -0.0450138, 0.941891)
bones/20/rotation = Quaternion(-0.333959, -0.0416516, -0.0343553, 0.94104)
bones/20/scale = Vector3(1, 1, 1)
bones/21/rotation = Quaternion(-0.335257, -0.088548, -0.0176513, 0.93779)
bones/21/scale = Vector3(1, 1, 1)
bones/22/rotation = Quaternion(0.0611543, 0.551534, 0.485846, 0.675295)
bones/22/scale = Vector3(1, 1, 1)
bones/23/rotation = Quaternion(-0.103111, 0.402555, 0.607018, 0.677383)
bones/23/scale = Vector3(1, 1, 1)
bones/24/rotation = Quaternion(-0.307869, 0.11208, 0.0558412, 0.943152)
bones/24/scale = Vector3(1, 1, 1)
bones/25/rotation = Quaternion(-0.646953, -0.285398, 0.285398, 0.646953)
bones/27/rotation = Quaternion(0.702293, 0.235991, 0.638166, -0.209374)
bones/29/scale = Vector3(1, 1, 1)
bones/30/rotation = Quaternion(0.231396, 0.44513, -0.599786, 0.623356)
bones/30/scale = Vector3(1, 1, 1)
bones/31/rotation = Quaternion(-0.428228, -0.0175644, 0.0402379, 0.902604)
bones/31/scale = Vector3(1, 1, 1)
bones/32/rotation = Quaternion(0.0290718, 0.00026226, 0.0127579, 0.999496)
bones/32/scale = Vector3(1, 1, 1)
bones/33/rotation = Quaternion(0.014274, 0.036138, -0.189854, 0.981043)
bones/34/rotation = Quaternion(-0.219379, -0.0319072, 0.0656216, 0.972907)
bones/35/rotation = Quaternion(-0.109288, 1.49453e-06, -3.32612e-08, 0.99401)
bones/36/rotation = Quaternion(0.0604901, 6.71782e-08, -1.25026e-07, 0.998169)
bones/37/rotation = Quaternion(0.0234887, 0.00390845, -0.0436187, 0.998764)
bones/38/rotation = Quaternion(-0.241181, -0.0602542, 0.00562276, 0.968591)
bones/39/rotation = Quaternion(-0.0303466, -9.69022e-07, 2.32941e-10, 0.999539)
bones/40/rotation = Quaternion(-0.0415493, 2.07119e-06, 1.41916e-07, 0.999136)
bones/41/rotation = Quaternion(0.0119729, -0.0752219, 0.0706678, 0.994588)
bones/42/rotation = Quaternion(-0.245607, 0.0165945, 0.000685238, 0.969227)
bones/43/rotation = Quaternion(-0.0782946, 1.75861e-07, 1.21561e-07, 0.99693)
bones/44/rotation = Quaternion(0.0484954, 1.30976e-06, -1.6667e-07, 0.998823)
bones/45/rotation = Quaternion(0.0222864, -0.267991, 0.200864, 0.941986)
bones/46/rotation = Quaternion(-0.2414, 0.254942, -0.0401413, 0.935478)
bones/46/scale = Vector3(1, 1, 1)
bones/47/rotation = Quaternion(-0.0244087, 5.68276e-08, -3.7264e-08, 0.999702)
bones/48/rotation = Quaternion(-0.0508007, 1.7908e-06, -4.07689e-08, 0.998709)
bones/49/rotation = Quaternion(3.45259e-08, -0.382683, 4.83867e-08, 0.92388)
bones/49/scale = Vector3(1, 1, 1)
bones/52/rotation = Quaternion(0.702293, -0.235991, -0.638166, -0.209374)
bones/54/scale = Vector3(1, 1, 1)
bones/55/rotation = Quaternion(0.231396, -0.44513, 0.599786, 0.623356)
bones/55/scale = Vector3(1, 1, 1)
bones/56/rotation = Quaternion(-0.428228, 0.0175644, -0.0402379, 0.902604)
bones/56/scale = Vector3(1, 1, 1)
bones/57/rotation = Quaternion(0.0290718, -0.00026226, -0.0127579, 0.999496)
bones/57/scale = Vector3(1, 1, 1)
bones/58/rotation = Quaternion(0.014274, -0.036138, 0.189854, 0.981043)
bones/59/rotation = Quaternion(-0.219379, 0.0319072, -0.0656216, 0.972907)
bones/60/rotation = Quaternion(-0.109288, -1.49453e-06, 3.32612e-08, 0.99401)
bones/61/rotation = Quaternion(0.0604901, -6.71782e-08, 1.25026e-07, 0.998169)
bones/62/rotation = Quaternion(0.0234887, -0.00390845, 0.0436187, 0.998764)
bones/63/rotation = Quaternion(-0.241181, 0.0602542, -0.00562276, 0.968591)
bones/64/rotation = Quaternion(-0.0303466, 9.69022e-07, -2.32941e-10, 0.999539)
bones/65/rotation = Quaternion(-0.0415493, -2.07119e-06, -1.41916e-07, 0.999136)
bones/66/rotation = Quaternion(0.0119729, 0.0752219, -0.0706678, 0.994588)
bones/67/rotation = Quaternion(-0.245607, -0.0165945, -0.000685238, 0.969227)
bones/68/rotation = Quaternion(-0.0782946, -1.75861e-07, -1.21561e-07, 0.99693)
bones/69/rotation = Quaternion(0.0484954, -1.30976e-06, 1.6667e-07, 0.998823)
bones/70/rotation = Quaternion(0.0222864, 0.267991, -0.200864, 0.941986)
bones/71/rotation = Quaternion(-0.2414, -0.254942, 0.0401413, 0.935478)
bones/71/scale = Vector3(1, 1, 1)
bones/72/rotation = Quaternion(-0.0244087, -5.68276e-08, 3.7264e-08, 0.999702)
bones/73/rotation = Quaternion(-0.0508007, -1.7908e-06, 4.07689e-08, 0.998709)
bones/74/rotation = Quaternion(3.45259e-08, 0.382683, -4.83867e-08, 0.92388)
bones/74/scale = Vector3(1, 1, 1)
bones/77/rotation = Quaternion(0.5, -0.5, -0.5, 0.5)
bones/82/rotation = Quaternion(0.408674, 0.491589, 0.491589, 0.591326)
bones/83/rotation = Quaternion(0.5, 0.5, 0.5, -0.5)
bones/84/rotation = Quaternion(-0.629095, 0.322861, 0.629095, 0.322862)
bones/84/scale = Vector3(1, 1, 1)
bones/85/rotation = Quaternion(-1.11075e-08, 0.707107, 2.18197e-08, 0.707107)

[node name="Cylinder_001" parent="CharacterBody3D/Cam/Camera3D/LowPoly_FPS_MP5/Arms/Skeleton3D" index="0"]
cast_shadow = 0

[node name="Low_Poly_Male_Arms" parent="CharacterBody3D/Cam/Camera3D/LowPoly_FPS_MP5/Arms/Skeleton3D" index="1"]
material_override = SubResource("StandardMaterial3D_4as7o")
cast_shadow = 0

[node name="SpotLight3D" type="SpotLight3D" parent="CharacterBody3D/Cam/Camera3D"]
transform = Transform3D(1, 0, -1.74846e-07, 0, 1, 0, 1.74846e-07, 0, 1, 0, -0.577075, 0)
spot_angle = 23.463

[node name="RayCast3D" type="RayCast3D" parent="CharacterBody3D/Cam"]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 0, 0)
target_position = Vector3(0, 0, 100)

[node name="CollisionShape3D" type="CollisionShape3D" parent="CharacterBody3D"]
shape = SubResource("CapsuleShape3D_j8ojb")

[node name="Scripts" type="Node3D" parent="CharacterBody3D"]

[node name="Camera" type="Node3D" parent="CharacterBody3D/Scripts" node_paths=PackedStringArray("cam", "body")]
script = ExtResource("1_02tyf")
cam = NodePath("../../Cam/Camera3D")
body = NodePath("../..")
sensetive_x = 0.005
sensetive_y = 0.005

[node name="Animation" type="Node3D" parent="CharacterBody3D/Scripts" node_paths=PackedStringArray("anim", "sm")]
script = ExtResource("3_7ob0h")
anim = NodePath("../../AnimationTree")
sm = NodePath("../../PlayerStateMachine")

[node name="Fire" type="Node3D" parent="CharacterBody3D/Scripts" node_paths=PackedStringArray("raycast")]
script = ExtResource("4_hdfd1")
raycast = NodePath("../../Cam/RayCast3D")

[node name="PlayerStateMachine" type="Node3D" parent="CharacterBody3D" node_paths=PackedStringArray("body")]
script = ExtResource("3_djyq5")
initialState = NodePath("Idle")
body = NodePath("..")

[node name="Idle" type="Node3D" parent="CharacterBody3D/PlayerStateMachine"]
script = ExtResource("4_15lhl")

[node name="Walk" type="Node3D" parent="CharacterBody3D/PlayerStateMachine"]
script = ExtResource("5_j3ct8")
speed = 3.0

[node name="Run" type="Node3D" parent="CharacterBody3D/PlayerStateMachine"]
script = ExtResource("6_jp3up")
speed = 5.0

[node name="Jump" type="Node3D" parent="CharacterBody3D/PlayerStateMachine"]
script = ExtResource("7_cm1d8")

[node name="InAir" type="Node3D" parent="CharacterBody3D/PlayerStateMachine"]
script = ExtResource("8_itdee")
gravity = -0.5

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="TextureRect" type="TextureRect" parent="UI"]
texture_filter = 1
layout_mode = 0
offset_left = 570.0
offset_top = 318.0
offset_right = 594.0
offset_bottom = 342.0
pivot_offset = Vector2(12, 12)
texture = ExtResource("12_euvy4")

[editable path="CharacterBody3D/Cam/Camera3D/LowPoly_FPS_MP5"]
